<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Find Your Utility âš¡</title>
  <link rel="preconnect" href="https://ucarecdn.com">
  <style>
    :root {
      --blue-600:#0b64d6;
      --blue-700:#0447a6;
      --muted:#6b7280;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#f7fbff 0%,#eef6ff 100%);color:#0f1724;min-height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 32px;background:rgba(255,255,255,0.8);backdrop-filter:blur(6px);box-shadow:0 2px 8px rgba(3,7,18,0.06)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,var(--blue-600),var(--blue-700));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;box-shadow:0 6px 18px rgba(11,100,214,0.25)}
    nav a{margin-left:18px;color:var(--muted);text-decoration:none;font-weight:600}
    nav a:hover{color:var(--blue-700)}
    .container{max-width:980px;margin:48px auto;padding:0 20px}
    .panel{background:var(--card);border-radius:14px;padding:28px;box-shadow:0 20px 45px rgba(12,34,98,0.07);}
    .title{font-size:28px;color:var(--blue-700);margin-bottom:8px}
    .subtitle{color:var(--muted);margin-bottom:18px}
    .search-row{display:flex;gap:12px;align-items:center}
    input.zip{flex:1;padding:12px 14px;border-radius:9px;border:1px solid #e6eefb;font-size:16px;background:#fbfdff}
    button.search{background:linear-gradient(180deg,var(--blue-600),var(--blue-700));color:white;padding:12px 18px;border-radius:10px;border:none;font-weight:700;cursor:pointer;box-shadow:0 10px 20px rgba(11,100,214,0.18)}
    .result-card{margin-top:18px;padding:16px;border-radius:10px;background:linear-gradient(180deg,#f7fbff,#f1f8ff);border:1px solid #e6f0ff}
    .utility-name{font-weight:700;color:#07356b;font-size:18px}
    .meta{color:var(--muted);font-size:14px;margin-top:6px}
    footer{max-width:980px;margin:28px auto;color:var(--muted);font-size:13px;text-align:center}
    /* Popup */
    .popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,0.85);backdrop-filter:blur(12px);border-radius:16px;padding:24px 28px;text-align:center;font-size:18px;color:#ff4081;font-weight:600;box-shadow:0 10px 30px rgba(255,64,129,0.3);z-index:300;animation:fadeIn .5s ease forwards}
    @keyframes fadeIn{from{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}
    @keyframes fadeOut{from{opacity:1;}to{opacity:0;}}
    /* Floating support */
    .support-floating{position:fixed;right:22px;bottom:22px;width:58px;height:58px;border-radius:50%;background:var(--blue-700);color:white;border:none;box-shadow:0 10px 30px rgba(11,100,214,0.25);cursor:pointer;font-size:22px;display:flex;align-items:center;justify-content:center;z-index:200}
    .support-floating:hover{transform:scale(1.05)}
    .modal-backdrop{position:fixed;inset:0;background:rgba(7,12,34,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:250}
    .modal{width:100%;max-width:520px;background:white;border-radius:12px;padding:20px;box-shadow:0 20px 60px rgba(3,7,18,0.35)}
    .modal h3{color:var(--blue-700);margin:0 0 8px}
    .modal label{font-weight:600;font-size:13px;color:#253047;display:block;margin-top:10px}
    .modal input,.modal textarea{width:100%;padding:10px;border:1px solid #e6eefb;border-radius:8px;margin-top:8px;font-size:14px}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
    .btn-ghost{background:#f3f6fb;border:1px solid #e2eefb;padding:10px 14px;border-radius:8px;cursor:pointer}
    .btn-primary{background:linear-gradient(180deg,var(--blue-600),var(--blue-700));color:white;padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">âš¡</div>
      <div>
        <div style="font-weight:700;color:var(--blue-700)">Find Your Utility</div>
        <div style="font-size:13px;color:var(--muted)">Locate your electric & gas providers</div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="panel">
      <div class="title">Find your local utility provider</div>
      <div class="subtitle">Enter any U.S. ZIP code. Weâ€™ll show the city, state, and your utility provider.</div>
      <div class="search-row">
        <input id="zip" class="zip" type="text" maxlength="30" placeholder="Enter ZIP code" />
        <button class="search" id="btnSearch">Search</button>
      </div>
      <div id="status" class="meta" style="margin-top:10px;"></div>
      <div id="result" class="result-card" style="display:none;">
        <div class="utility-name" id="utilityName"></div>
        <div class="meta" id="utilityMeta"></div>
      </div>
    </div>
  </main>

  <footer>Â© <span id="year"></span> Find Your Utility</footer>

  <!-- Floating Support Button -->
  <button class="support-floating" id="openSupport" aria-label="Support">ðŸ’¬</button>

  <!-- Modal -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-hidden="true">
    <div class="modal">
      <h3>Support</h3>
      <form id="supportForm">
        <label for="title">Title</label>
        <input id="title" name="title" required />

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="4" required></textarea>

        <input type="hidden" role="uploadcare-uploader" name="attachment" data-public-key="93421cc4c0211b5c1d86" data-max-size="31457280" />

        <div class="actions">
          <button type="button" class="btn-ghost" id="closeModal">Cancel</button>
          <button type="submit" class="btn-primary">Send</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js" defer></script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const zipInput=document.getElementById('zip'),btnSearch=document.getElementById('btnSearch'),status=document.getElementById('status'),resultCard=document.getElementById('result'),utilityNameEl=document.getElementById('utilityName'),utilityMetaEl=document.getElementById('utilityMeta');

    // State â†’ city + utility map
    const dataMap={OH:{electric:"âš¡ Ohio Edison",gas:"ðŸ”¥ Dominion Energy"},PA:{electric:"âš¡ PECO",gas:"ðŸ”¥ Columbia Gas of Pennsylvania"},NJ:{electric:"âš¡ PSE&G",gas:"ðŸ”¥ New Jersey Natural Gas"},CA:{electric:"âš¡ Pacific Gas & Electric",gas:"ðŸ”¥ Southern California Gas"},NY:{electric:"âš¡ Con Edison",gas:"ðŸ”¥ National Grid"},DE:{electric:"âš¡ Delmarva Power",gas:"ðŸ”¥ Chesapeake Utilities"},MI:{electric:"âš¡ DTE Energy",gas:"ðŸ”¥ Consumers Energy"},RI:{electric:"âš¡ Rhode Island Energy",gas:"ðŸ”¥ Rhode Island Energy (Gas)"}};
    const cityMap={OH:{430:"Columbus",441:"Cleveland",452:"Cincinnati"},PA:{152:"Pittsburgh",191:"Philadelphia",178:"Harrisburg"},NJ:{070:"Newark",080:"Camden",086:"Trenton"},CA:{900:"Los Angeles",941:"San Francisco",958:"Sacramento"},NY:{100:"New York City",142:"Buffalo",132:"Syracuse"},DE:{197:"Wilmington",199:"Dover"},MI:{480:"Detroit",495:"Grand Rapids"},RI:{028:"Providence"}};

    const secretWords={kakey:"ðŸ’– Hey Kakey, youâ€™re my forever sunshine â€” no power outage can ever dim your glow in my life. â˜€ï¸",husband:"ðŸ’• Your husbandâ€™s heart beats only for you. Youâ€™re my reason, my peace, my everything. â¤ï¸",wife:"ðŸ’ My beautiful wife â€” youâ€™re not just my partner, youâ€™re my prayer and my paradise. ðŸ’«",love:"ðŸ’Œ Love isnâ€™t a word anymore â€” itâ€™s your name written deep in my heart. â¤ï¸â€ðŸ”¥",jaan:"ðŸ’— Jaan, youâ€™re the light in my darkest nights â€” my reason, my calm, my forever. ðŸŒ™",jaanu:"ðŸ’ž Jaanu, if smiles had a face, it would be yours. You make every heartbeat meaningful. ðŸ’•",baby:"ðŸ¼ My baby, youâ€™re my sweetest addiction â€” softer than love, stronger than destiny. ðŸ’–","mera baby":"ðŸ’« Mera baby, youâ€™re my tiny piece of heaven on Earth â€” always precious, always mine. ðŸ¥¹â¤ï¸","mera bacha":"ðŸ§¸ Mera bacha, tu meri sabse pyari feeling hai â€” mujhe sabse zyada sukoon tu deta hai. ðŸ˜˜",chuchu:"ðŸ¥ Chuchu, youâ€™re my little spark of joy â€” always chirping happiness into my world! ðŸ’›",mithu:"ðŸ¦œ Mithu, my lovely parrot â€” you fill my life with colors, love, and endless chirps of joy. ðŸ’šâœ¨"};

    function showPopup(message){const popup=document.createElement('div');popup.className='popup';popup.textContent=message;document.body.appendChild(popup);setTimeout(()=>{popup.style.animation='fadeOut .5s';setTimeout(()=>popup.remove(),500)},2500);}

    btnSearch.addEventListener('click',()=>{
      const input=zipInput.value.trim().toLowerCase();
      zipInput.value="";
      if(secretWords[input]){showPopup(secretWords[input]);return;}
      if(!/^[0-9]{5}$/.test(input)){status.textContent="Enter a valid ZIP.";resultCard.style.display='none';return;}
      const prefix=input.substring(0,3);let state=null;
      if(prefix>=430&&prefix<=459)state="OH";else if(prefix>=150&&prefix<=196)state="PA";else if(prefix>=700&&prefix<=899)state="NJ";else if(prefix>=900&&prefix<=961)state="CA";else if(prefix>=100&&prefix<=149)state="NY";else if(prefix>=197&&prefix<=199)state="DE";else if(prefix>=480&&prefix<=499)state="MI";else if(prefix>=028&&prefix<=029)state="RI";
      if(!state){status.textContent="ZIP not recognized.";resultCard.style.display='none';return;}
      const info=dataMap[state];const city=cityMap[state]&&cityMap[state][prefix]?cityMap[state][prefix]:"Unknown City";
      utilityNameEl.textContent=`${info.electric} â€¢ ${info.gas}`;utilityMetaEl.textContent=`City: ${city} â€¢ State: ${state}`;resultCard.style.display='block';status.textContent="";
    });

    // Support modal
    const modalBackdrop=document.getElementById('modal');
    document.getElementById('openSupport').addEventListener('click',()=>{modalBackdrop.style.display='flex';modalBackdrop.setAttribute('aria-hidden','false');});
    document.getElementById('closeModal').addEventListener('click',()=>{modalBackdrop.style.display='none';modalBackdrop.setAttribute('aria-hidden','true');});
    window.addEventListener('click',e=>{if(e.target===modalBackdrop){modalBackdrop.style.display='none';modalBackdrop.setAttribute('aria-hidden','true');}});

    document.getElementById('supportForm').addEventListener('submit',async e=>{
      e.preventDefault();
      const title=document.getElementById('title').value.trim(),message=document.getElementById('message').value.trim(),attachmentInput=document.querySelector('input[name="attachment"]'),fileValue=attachmentInput?attachmentInput.value:'';
      const payload={title,message,attachment:fileValue};
      try{await fetch('https://formspree.io/f/mgvnbbaw',{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(payload)});}catch(err){console.error('Form submit error',err);}finally{modalBackdrop.style.display='none';modalBackdrop.setAttribute('aria-hidden','true');}
    });
  </script>
</body>
</html>
